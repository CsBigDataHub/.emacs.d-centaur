#+author: Chetan Koneru
#+title: Emacs notes on Linux

* Building Emacs on Ubuntu

#+begin_src sh
  # https://github.com/hubisan/emacs-wsl

  sudo apt install -y autoconf automake autotools-dev bsd-mailx build-essential \
       diffstat gnutls-dev imagemagick libasound2-dev libc6-dev libdatrie-dev \
       libdbus-1-dev libgconf2-dev libgif-dev libgnutls28-dev libgpm-dev libgtk2.0-dev \
       libgtk-3-dev libice-dev libjpeg-dev liblockfile-dev liblqr-1-0 libm17n-dev \
       libmagickwand-dev libncurses5-dev libncurses-dev libotf-dev libpng-dev \
       librsvg2-dev libsm-dev libthai-dev libtiff5-dev libtiff-dev libtinfo-dev libtool \
       libx11-dev libxext-dev libxi-dev libxml2-dev libxmu-dev libxmuu-dev libxpm-dev \
       libxrandr-dev libxt-dev libxtst-dev libxv-dev quilt sharutils texinfo xaw3dg \
       xaw3dg-dev xorg-dev xutils-dev zlib1g-dev libjansson-dev libxaw7-dev \
       libselinux1-dev libmagick++-dev libacl1-dev gir1.2-javascriptcoregtk-4.0 \
       gir1.2-webkit2-4.0 libenchant1c2a libglvnd-core-dev libicu-le-hb-dev \
       libidn2-0-dev libjavascriptcoregtk-4.0-dev liboss4-salsa2 libsoup2.4-dev \
       libsystemd-dev libwebkit2gtk-4.0-dev libx11-xcb-dev libxcb-dri2-0-dev \
       libxcb-dri3-dev libxcb-glx0-dev libxcb-present-dev libxshmfence-dev \
       x11proto-composite-dev x11proto-core-dev x11proto-damage-dev \
       x11proto-fixes-dev
#+end_src

#+begin_src sh
  git clone --depth=1 --single-branch
  --branch emacs-27 https://github.com/emacs-mirror/emacs.git

  cd emacs/

  sudo apt install -y autoconf make gcc texinfo libgtk-3-dev libxpm-dev \
       libjpeg-dev libgif-dev libtiff5-dev libgnutls28-dev libncurses5-dev \
       libjansson-dev libharfbuzz-dev libharfbuzz-bin

  ./autogen.sh

  # ./configure --with-json --with-modules --with-harfbuzz --with-compress-install \
  #             --with-threads --with-included-regex --with-x-toolkit=lucid --with-zlib --without-sound \
  #             --without-xpm --with-jpeg --without-tiff --without-gif --with-png \
  #             --without-rsvg --with-imagemagick  --without-toolkit-scroll-bars \
  #             --without-gpm --without-dbus --without-makeinfo --without-pop \
  #             --without-mailutils --without-gsettings --without-pop


  #./configure --with-json --with-modules --with-harfbuzz --with-compress-install \
  #            --with-threads --with-included-regex --with-xwidgets --with-zlib

  # I used this
  ./configure --with-json --with-xwidgets --with-mailutils

  make
  sudo make install
#+end_src
